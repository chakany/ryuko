<head>
	<title>Commands | <%= username %></title>
	<link rel="stylesheet" type="text/css" href="/styles/commands.css" />
</head>
<body>
	<%- include("../components/header.ejs") %>
	<script>
		document.getElementById("navbar-commands-link").classList.add("active");
	</script>
	<div class="container-fluid">
		<div class="row">
			<nav
				id="sidebarMenu"
				class="sidebar-sticky col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"
			>
				<div class="position-sticky pt-3">
					<% for( let i = 0; i < categories.length; i++ ) { %>
					<h6
						class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"
					>
						<span><%= categories[i][0].categoryID %></span>
						<a class="link-secondary" href="#" aria-label="Add a new report">
							<span data-feather="plus-circle"></span>
						</a>
					</h6>
					<ul class="nav flex-column mb-2">
						<% for( let index = 0; index < categories[i].length; index++ ) { %>
						<li class="nav-item">
							<!--
                                Don't worry, the onclick still works, and this doesn't break anything despite what your
                                IDE says.
                            -->
							<a
								class="nav-link command-button"
								onclick="document.getElementById(
                'content-container'
			).innerHTML = `<%= include('../components/command.ejs', { command: categories[i][index] }) %>`;"
							>
								<span data-feather="file-text"></span>
								<%= categories[i][index].aliases[0].charAt(0).toUpperCase() +
								categories[i][index].aliases[0].slice(1) %>
							</a>
						</li>
						<% } %>
					</ul>
					<% } %>
				</div>
			</nav>

			<main
				id="content-container"
				class="col-md-9 ms-sm-auto col-lg-10 px-md-4"
			>
				<%- include('../components/command.ejs', { command: categories[0][0] })
				%>
			</main>
		</div>
	</div>
</body>
